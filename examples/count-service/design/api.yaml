api:
  name: count-service
  version: "0.1"
  about: count-service for daily transaction counts.
  config:
    base-url: api/v1
  routes:
    - name: version
      route: version
      method: GET
      return: VersionResponse

    - name: clearCountByDate
      route: count
      method: DELETE
      params:
        - name: date
          type: string
          required: true
          validation:
            min: 11
            max: 11
            regex: "[0-3][0-9]-[01][0-9]-20[12][0-9]"
      return: DeleteCount

  resources:
    - name: count
      route: count
      resource: count
      methods:
        list:
          input:  null
          output: list[count.views.extern]
        get:
          input:  count.fields.owner_id
          output: count.views.extern
        put:
          input:  nil
          output: count.views.extern

