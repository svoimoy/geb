# add db funcs to the type public functions
{{#with DslContext as |CTX|}}
pkg:
  name: "{{CTX.name}}"

  public-files:

    - name: "{{CTX.name}}-db-pub-funcs"

      functions:

        - name: "migrate-{{CTX.name}}"
          return:
            - name: err
              type: error

        - name: get-by-id
          args:
            - name: id
              type: string
          return:
            - name: value
              type: "*{{CTX.name}}"
            - name: err
              type: error

        - name: "create-{{CTX.name}}"
          args:
            - name: value
              type: "*{{CTX.name}}"
          return:
            - name: err
              type: error

        - name: "update-{{CTX.name}}"
          args:
            - name: value
              type: "*{{CTX.name}}"
          return:
            - name: err
              type: error

        - name: "find-{{CTX.name}}"
          args:
            - name: value
              type: "*{{CTX.name}}"
          return:
            - name: result
              type: "*{{CTX.name}}"
            - name: err
              type: error

        - name: "delete-{{CTX.name}}"
          args:
            - name: value
              type: "*{{CTX.name}}"
          return:
            - name: err
              type: error

{{/with}}

# HOFSTADTER_BELOW

