name: golang-echo
version: "0.1"
language: golang
type: api
about: A golang Echo webframework dsl

repeated:
  - name: route
    field: routes
    templates:
      - in: "routes/route.go"
        out: "routes/{{camel name}}.go"
      - in: "log.go"
        out: "routes/log.go"
  - name: sub-route
    field: routes.routes
    templates:
      - in: "routes/subroute.go"
        out: "routes/{{parent.name}}/{{camel name}}.go"
      - in: "log.go"
        out: "routes/{{parent.name}}/log.go"

  - name: resource
    field: resources
    templates:
      - in: "resources/resource.go"
        out: "resources/{{camel name}}.go"
      - in: "log.go"
        out: "resources/log.go"
  - name: sub-resource
    field: resources.resources
    templates:
      - in: "resources/subresource.go"
        out: "resources/{{parent.name}}/{{camel name}}.go"
      - in: "log.go"
        out: "resources/{{parent.name}}/log.go"



