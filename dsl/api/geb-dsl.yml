name: "api"
version: "0.1"
type: "dsl"


spec:
  terms:
    - name: param
      fields:
        - name: name
          type: string
          required: true
        - name: type
          type: type
          required: true
        - name: required
          type: bool
        - name: validation
          type: object-or-map

    - name: route
      fields:
        - name: name
          type: string
          required: true
        - name: route
          type: string
          required: true
        - name: method
          type: string
          required: true
          validation:
            regex: "GET|POST|PUT|PATCH|DELETE"
        - name: params
          type: list[term.param]

    - name: resource
      fields:
        - name: input
          type: type
          required: true
        - name: output
          type: type
          required: true

    - name: resources
      fields:
        - name: name
          type: string
          required: true
        - name: route
          type: string
          required: true
        - name: resource
          type: string
          required: true
        - name: methods
          type: map[term.resource]
          validation:
            min: 1
            max: 6
            regex: "list|get|post|put|patch|delete"

