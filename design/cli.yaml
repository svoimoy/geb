cli:
  name: geb
  short: "geb is the Hofstadter framework CLI tool"
  long: |
    Hofstadter is a Framework
    for building data-centric
    Platforms. geb is the tool.
  pflags:
    - name: Config
      long: config
      short: c
      default: geb.yaml
      help: A geb project config file.
    - name: Design
      long: design
      short: d
      default: design
      help: The design files directory.
    - name: TemplatePaths
      long: template-paths
      short: t
      default: templates:~/.hofstadter/templates
      help: The search path for templates, reads from left to right, overriding along the way.
    - name: Output
      long: output
      short: o
      default: output
      help: The directory to output generated files to.
  commands:
    - name: Init
      usage: init
      short: Initialize the geb tool and files
      long: Intializes the geb tool and the ~/.hofstadter dotfolder
      aliases:
        - setup
    - name: Create
      usage: create <name> <dsl/gen>...
      short: Create a new project
      long: |
        Create a new project with the given name.
        Optionally specifiy the starting set of
        DSLs and generators for the project.
        The output directory defaults to the same name,
        unless overridden by the output flag.
      args:
        - name: name
          type: string
          required: true
          help: The name of the new project to create
        - name: dsls_n_gens
          rest: true
          type: array:string
          help: The starting list of DSLs and generators by path.
    - name: View
      usage: view
      short: View information known to the geb tool.
      long: View information known to the geb tool.
      run: false
      subcommands:
        - name: Geb
          usage: geb <dotpaths>...
          short: View information about Global geb config
          long: View information about the global geb config
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
        - name: Dsl
          usage: dsl <dotpath>...
          short: View information about DSLs
          long: View information about DSLs known from the current path
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
        - name: Gen
          usage: gen <dotpaths>...
          short: View information about Generators
          long: View information about generators known from the current path
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
        - name: Project
          usage: project <dotpath>...
          aliases:
            - proj
          short: View information about a Project
          long: View information about a Project known from the current path
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
        - name: Design
          usage: design <dotpath>...
          short: View information about Designs
          long: View information about Designs known from the current path
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
        - name: Plans
          usage: plans <dotpath>...
          short: View information about a Project's Plans
          long: View information about a Project's Plans known from the current path
          args:
            - name: paths
              type: array:string
              rest: true
              help: one ore more dotpaths for indexing into the data
    - name: Gen
      usage: gen
      short: Generate a project.
      long: Generate a project from its working directory.
      subcommands:
        - name: File
          usage: file <dataFile> <templateFile> <outputFile>
          short: Generate a file.
          long: Generate a file from data and a template.
          args:
            - name: dataFile
              type: string
              required: true
              help: Path to the input data file. Can also be 'stdin'.
            - name: templateFile
              type: string
              required: true
              help: Path to the template file.
            - name: outputFile
              type: string
              required: true
              help: Path to the output file. Can also be 'stdout'.

    - name: Import
      usage: import <file or directory> <output file or directory>
      short: Import other stuff into Hofstadter
      long: |
        Import other stuff into Hofstadter.

        Stuff is...
          - json/jsonl, yaml, xml, protobuf, taml
          - swagger, goa.design
          - golang type definitions
      flags:
        - name: Type
          type: string
          long: type
          short: T
          help: The type of input data to force geb to use a certain format
      args:
        - name: input
          type: string
          required: true
          help: Path to the file or folder. Can also be 'stdin'.
        - name: output
          type: string
          required: true
          help: Path to the output file or folder. Can also be 'stdout'.
